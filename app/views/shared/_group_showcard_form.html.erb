<div class="col-lg-3 col-md-6 col-sm-8 mx-auto mb-3">
  <div class="mb-4 card-deckr"> <!--連結しないで表示したい場合は、card-deck-->
    <div class="card text-white border-dark mb-3 bg-transparent hover-img">
      <%= link_to group_path(group) do %>
        <%= attachment_image_tag(group, :image, size: "240x180", fallback: "groupnoimage.jpg", class: "card-img-top img-fluid mx-auto d-block" )%>
      <% end %>
      <div class="card-body">
        <h5 class="card-title font-weight-bold  border-bottom"><%= group.name.truncate(15) %></h5>
        <p class="card-text  border-bottom"><%= group.introduction.truncate(20) %></p>
        <p class="card-text">加入メンバー<%= group.users.size %>人</p>
        
         <% if group.users.include?(current_user) %>
          <%= link_to "新規投稿", new_group_post_path(group.id), class: "btn btn-outline-light hover-img mr-2"%>
        <% end %>
        <% if group.owner_id == current_user.id %>
          <p><%= link_to 'グループを編集する',edit_group_path(group), class: "btn btn-success btn-outline-light hover-img mt-3" %></p>
          <span><%= link_to 'グループを削除する', group_path(group), method: :delete, data: { confirm: '本当にグループを消しますか？' }, class: "btn btn-danger btn-outline-light hover-img"%></span>
        <% elsif group.member_by?(current_user) %>
          <%= link_to "グループ脱退", group_groupout_path(group), method: :delete, class: "btn btn-danger btn-outline-light hover-img m-2" %>
        <% else %>
          <%= link_to 'グループ加入', group_join_path(group), class: 'btn btn-success btn-outline-light hover-img m-2' %>
        <% end %>

      </div>
    </div>
  </div>
</div>